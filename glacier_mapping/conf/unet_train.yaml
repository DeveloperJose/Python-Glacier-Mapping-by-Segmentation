gpu_rank: 0

training_opts:
  output_dir: "/home/devj/local-debian/glacier_mapping/debian-runs/"
  run_name: "replicate_bibek_debrisice_all_channels"
  epochs: 500
  fine_tune: False
  find_lr: False
  early_stopping: 150 # Epochs to wait for improvement
  full_eval_every: 10
  num_viz_samples: 4
loader_opts:
  processed_dir: "/home/devj/local-debian/datasets/HKH/bibek_w512_o64_f1/"
  batch_size: 8 # 8 (original paper), 12 (debian 512x512) or 46-48 (debian 256x256)
  use_channels: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15]
  # [0="B1", 1="B2", 2="B3", 3="B4", 4="B5", 5="B6_VCID1", 6="B6_VCID2", 7="B7"] derived from Landsat-7 TIFF
  # [8="elevation", 9="slope"] derived from DEM
  # [10="NDVI", 11="NDWI", 12="NDSI", 13="H", 14="S", 15="V"] spectral indices + HSV
  # [16="physics"]
  output_classes: [2] # 0=BG, 1=CI, 2=Debris
  normalize: "mean-std" # "min-max" or "mean-std"
  # physics_channel: 16
  physics_channel: None
  class_names: ["BG", "CleanIce", "Debris"] # All class names in the dataset (No need to change)
metrics_opts:
  metrics: ["IoU", "precision", "recall"]
  threshold: [0.5] # 0.5 for CI, 0.30 for DCI
loss_opts:
  name: "custom"
  masked: False # True for CI, False for DCI
  gaussian_blur_sigma: None
  label_smoothing: 0 # 0.1 for CI, 0 for DCI
  use_unified: False
model_opts:
  args:
    net_depth: 4
    dropout: 0.1
    spatial: True
    first_channel_output: 32
optim_opts:
  name: "Adam" # Adam for CI, AdamW for DCI
  args:
    lr: 0.0003 # 0.0003 for CI
    # weight_decay: 5e-5 # Comment out for CI
scheduler_opts:
  name: "ReduceLROnPlateau" # OneCycleLR | ReduceLROnPlateau | Cosine | None
  args:
    mode: "min"
    factor: 0.1
    patience: 15
    min_lr: 1e-9
# scheduler_opts:
#   name: "OneCycleLR"
#   args:
#     max_lr: 0.00045
#     pct_start: 0.4
#     anneal_strategy: "cos"
